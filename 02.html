<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>지구 온난화 가속화 리포트</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js for data visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@400;700;900&display=swap');
        body { font-family: 'Pretendard', sans-serif; }
        .chart-container { position: relative; height: 350px; width: 100%; }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 min-h-screen p-4 md:p-8">

    <header class="max-w-6xl mx-auto mb-8 text-center">
        <h1 class="text-3xl md:text-4xl font-black text-slate-800 flex items-center justify-center gap-3">
            <i data-lucide="alert-triangle" class="text-orange-500 w-8 h-8 md:w-10 md:h-10"></i>
            지구 온난화 가속화 리포트 (2020-2024)
        </h1>
        <p class="mt-2 text-slate-600">이산화탄소, 메탄 농도 증가에 따른 글로벌 기온 변화 분석</p>
    </header>

    <!-- Summary Cards -->
    <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
        <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-100 flex flex-col items-center text-center">
            <div class="bg-red-50 p-3 rounded-full mb-4 text-red-500">
                <i data-lucide="thermometer"></i>
            </div>
            <span class="text-slate-500 text-sm font-medium">평균 기온 상승</span>
            <div id="temp-diff" class="text-3xl font-black mt-1 text-red-600">+1.3°C</div>
            <p class="text-xs text-slate-400 mt-2 italic">최근 5년간 급격한 변화 감지</p>
        </div>

        <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-100 flex flex-col items-center text-center">
            <div class="bg-blue-50 p-3 rounded-full mb-4 text-blue-500">
                <i data-lucide="trending-up"></i>
            </div>
            <span class="text-slate-500 text-sm font-medium">이산화탄소($CO_2$) 농도</span>
            <div id="latest-co2" class="text-3xl font-black mt-1 text-blue-600">428.0 ppm</div>
            <p id="co2-diff-desc" class="text-xs text-slate-400 mt-2 italic">2020년 대비 10.4ppm 증가</p>
        </div>

        <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-100 flex flex-col items-center text-center">
            <div class="bg-amber-50 p-3 rounded-full mb-4 text-amber-500">
                <i data-lucide="wind"></i>
            </div>
            <span class="text-slate-500 text-sm font-medium">메탄($CH_4$) 농도</span>
            <div id="latest-ch4" class="text-3xl font-black mt-1 text-amber-600">2022 ppb</div>
            <p class="text-xs text-slate-400 mt-2 italic">강력한 온실가스 효과 지속</p>
        </div>
    </div>

    <!-- Charts Section -->
    <div class="max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8">
        <!-- Area Chart -->
        <div class="bg-white p-6 rounded-3xl shadow-sm border border-slate-100">
            <h3 class="text-lg font-bold mb-6 text-slate-700">온실가스($CO_2$, $CH_4$) 농도 변화 트렌드</h3>
            <div class="chart-container">
                <canvas id="gasChart"></canvas>
            </div>
        </div>

        <!-- Bar Chart -->
        <div class="bg-white p-6 rounded-3xl shadow-sm border border-slate-100">
            <h3 class="text-lg font-bold mb-6 text-slate-700">연도별 평균 기온 분포</h3>
            <div class="chart-container">
                <canvas id="tempChart"></canvas>
            </div>
            <div class="mt-4 flex items-center justify-between text-xs text-slate-500 px-2 font-medium">
                <span class="flex items-center gap-1"><div class="w-3 h-3 bg-orange-400 rounded-sm"></div> 14°C 미만</span>
                <span class="flex items-center gap-1"><div class="w-3 h-3 bg-red-500 rounded-sm"></div> 14°C 이상 (위험)</span>
            </div>
        </div>
    </div>

    <footer class="max-w-6xl mx-auto mt-12 text-center text-slate-400 text-sm border-t border-slate-200 pt-8 mb-8">
        <p>※ 본 리포트는 제공된 데이터를 기반으로 생성되었습니다.</p>
        <p class="mt-1">기온과 온실가스 농도는 매우 밀접한 비례 관계를 보이고 있습니다.</p>
    </footer>

    <script>
        // Data from CSV
        const rawData = [
            { year: 2020, co2: 417.6, ch4: 1972, temp: 13.4 },
            { year: 2021, co2: 421.4, ch4: 1988, temp: 13.5 },
            { year: 2022, co2: 422.8, ch4: 2004, temp: 13.6 },
            { year: 2023, co2: 425.6, ch4: 2010, temp: 14.6 },
            { year: 2024, co2: 428.0, ch4: 2022, temp: 14.7 },
        ];

        const years = rawData.map(d => d.year);
        const co2Data = rawData.map(d => d.co2);
        const ch4Data = rawData.map(d => d.ch4);
        const tempData = rawData.map(d => d.temp);

        // Initialize Lucide Icons
        lucide.createIcons();

        // 1. Gas Concentration Chart (Line/Area)
        const gasCtx = document.getElementById('gasChart').getContext('2d');
        const co2Gradient = gasCtx.createLinearGradient(0, 0, 0, 350);
        co2Gradient.addColorStop(0, 'rgba(59, 130, 246, 0.2)');
        co2Gradient.addColorStop(1, 'rgba(59, 130, 246, 0)');

        new Chart(gasCtx, {
            type: 'line',
            data: {
                labels: years,
                datasets: [
                    {
                        label: '이산화탄소 (ppm)',
                        data: co2Data,
                        borderColor: '#3b82f6',
                        backgroundColor: co2Gradient,
                        fill: true,
                        tension: 0.4,
                        borderWidth: 3,
                        pointRadius: 4,
                        yAxisID: 'y',
                    },
                    {
                        label: '메탄 (ppb)',
                        data: ch4Data,
                        borderColor: '#f59e0b',
                        backgroundColor: 'transparent',
                        fill: false,
                        tension: 0.4,
                        borderWidth: 3,
                        pointRadius: 4,
                        yAxisID: 'y1',
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'top', labels: { usePointStyle: true, boxWidth: 6 } },
                    tooltip: { mode: 'index', intersect: false }
                },
                scales: {
                    x: { grid: { display: false } },
                    y: { 
                        display: false,
                        position: 'left',
                        min: 410
                    },
                    y1: {
                        display: false,
                        position: 'right',
                        min: 1950
                    }
                }
            }
        });

        // 2. Temperature Bar Chart
        const tempCtx = document.getElementById('tempChart').getContext('2d');
        new Chart(tempCtx, {
            type: 'bar',
            data: {
                labels: years,
                datasets: [{
                    label: '기온 (°C)',
                    data: tempData,
                    backgroundColor: tempData.map(t => t > 14 ? '#ef4444' : '#fb923c'),
                    borderRadius: 8,
                    barThickness: 40
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    x: { grid: { display: false } },
                    y: { 
                        min: 13,
                        max: 15,
                        grid: { color: '#f1f5f9' }
                    }
                }
            }
        });
    </script>
</body>
</html>
